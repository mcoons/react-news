{"version":3,"sources":["components/News/NewSingle.js","components/News/Error.js","components/News/News.js","components/News/SourceSingle.js","components/News/Sources.js","components/App.js","serviceWorker.js","index.js"],"names":["NewSingle","_ref","item","react_default","a","createElement","className","urlToImage","src","alt","title","source","name","href","url","target","Error","News","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","news","error","API_KEY","process","fetchNews","bind","assertThisInitialized","_this2","newStateNews","finalSources","query","replace","split","forEach","s","timestamp","localStorage","getItem","Date","now","Number","push","concat","JSON","parse","setState","length","newQuery","join","type","fetch","then","response","json","data","tempData","articles","slice","setItem","stringify","filter","d","id","catch","console","log","News_Error","map","News_NewSingle","key","renderItems","Component","SourceSingle","defineProperty","selectedSources","includes","handleInputChange","event","value","checked","sourceID","toLowerCase","updateSourcesCallback","htmlFor","onChange","Sources","sources","myRequest","Request","_this3","News_SourceSingle","App","updateSources","preSelectesSources","toString","object","newState","e","components_News_News","News_Sources","Boolean","window","location","hostname","match","ReactDOM","render","src_components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.4c9bb8bc.chunk.js","sourcesContent":["import React from 'react';\n\nconst NewSingle = ({item}) => (\n    <div className = \"col xs12 s12 m6 l3\">\n        <div className = \"card medium\">\n            <div className = \"card-image\">\n            {item.urlToImage ? (\n            //  {/* {item.urlToImage && item.urlToImage.match(/\\.(jpeg|jpg|gif|png)$/)  ? ( */}\n            <img src={item.urlToImage} alt={item.title}></img>\n            ) : (\n                <img src='./no-image-available.png' alt={item.title}></img>\n            )\n            }\n                <span className=\"card-title\">{item.source.name}</span>\n\n            </div>\n            <div className=\"card-content\">\n                <p>{item.title}</p>\n            </div>\n            <div className=\"card-action\">\n                <a href={item.url} target=\"_blank\">Full Article</a>\n            </div>\n        </div>\n    </div>\n);\n\nexport default NewSingle;\n\n\n// (http(s?):)([/|.|\\w|\\s|-])*\\.(?:jpg|gif|png)\n// url.match(/\\.(jpeg|jpg|gif|png)$/) != null)","import React from 'react';\n\nconst Error = () => (\n    <div>\n        <h3>\n            Error: No news using selected resources.\n        </h3>\n    </div>\n)\n\nexport default Error;\n","import React, {Component} from 'react';\nimport NewSingle from './NewSingle';\nimport Error from './Error';\n\nclass News extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      news: [],\n      error: false,\n      API_KEY: process.env.REACT_APP_NEWS_API_KEY\n    };\n    this.fetchNews = this.fetchNews.bind(this);    \n  }\n\n  componentDidMount(){\n    this.fetchNews();\n  }\n\n  fetchNews(){\n    let newStateNews = [], finalSources = []\n    let sources = this.props.news.query.replace('sources=','').split(',');\n    sources.forEach( s => { \n      let timestamp=localStorage.getItem(s+\"-timestamp\");\n      if (timestamp){\n        if (Date.now() - Number(timestamp) > 3600000){\n          finalSources.push(s);\n        } else {\n          newStateNews = newStateNews.concat(JSON.parse( localStorage.getItem(s)));\n        }\n      } else {\n        finalSources.push(s);\n      }\n    })\n    \n    this.setState({\n      news: newStateNews\n    })\n    \n    if (finalSources.length > 0){\n      let newQuery = \"sources=\"+finalSources.join(',')\n      const url = `https://newsapi.org/v2/${this.props.news.type}?${newQuery}&pagesize=100&apiKey=${this.state.API_KEY}`;\n    \n      fetch(url)\n      .then ((response) => {\n        return response.json();\n      })\n      .then ((data) => {\n        let tempData = data.articles.slice();\n        finalSources.forEach( s => {localStorage.setItem(s+\"-timestamp\", Date.now()); localStorage.setItem(s, JSON.stringify( tempData.filter(d => d.source.id === s)))});\n        this.setState({\n          news: this.state.news.concat(data.articles)  \n        })\n      })\n      .catch((error) => {\n        console.log(error);\n        this.setState({\n            error: true\n        })\n      });\n    }\n  }\n\n  renderItems(){\n    if(!this.state.error) {\n      if (this.state.news && this.state.news.length){\n      return this.state.news.map((item)=> (\n        <NewSingle key={item.source.id+item.url} item={item} />\n      ));\n      }else{\n        return <Error />\n      }\n    } else {\n      return <Error />\n    }\n  }\n\n  render(){\n    return (\n      <div className=\"row flex\">\n        {this.renderItems()}\n      </div>\n    );\n  }\n}\n\nexport default News;\n\n\n// DATA SET EXAMPLE\n\n// [{ \"source\": { \"id\": \"the-washington-post\", \"name\": \"The Washington Post\" }, \n//    \"author\": null, \n//    \"title\": \"Trump administration not to blame for ‘tragic’ death of 7-year-old girl in Border Patrol custody, White House says\", \n//    \"description\": \"Spokesman Hogan Gidley called on Congress to “disincentivize” migrants from making long treks to the U.S. border.\", \n//    \"url\": \"https://www.washingtonpost.com/politics/white-house-says-administration-takes-no-responsibility-for-death-of-girl-in-border-control-custody/2018/12/14/1f00d34e-ffbb-11e8-83c0-b06139e540e5_story.html\", \n//    \"urlToImage\": \"https://www.washingtonpost.com/resizer/jVu_zbE7jQXxymsJibUg1NRoB5k=/1484x0/arc-anglerfish-washpost-prod-washpost.s3.amazonaws.com/public/D3LE7LX7XYI6RA6AWBQTTZKA4U.jpg\", \n//    \"publishedAt\": \"2018-12-14T17:42:00Z\", \n//    \"content\": \"A White House spokesman on Friday called the death of a 7-year-old girl in Border Patrol custody a tragic situation but said the Trump administration is not to blame and called on Congress to disincentivize migrants from making long treks to the southern U.S.… [+2391 chars]\" }, \n\n      //  { \"source\": { \"id\": \"the-washington-post\", \"name\": \"The Washington Post\" }, \"author\": null, \"title\": \"Trump routinely says things that aren’t true. Few Americans believe him, according to a Washington Post Fact Checker poll.\", \"description\": \"Take the quiz to see how your fact-checking skills stack up against others nationwide.\", \"url\": \"https://www.washingtonpost.com/graphics/2018/politics/political-knowledge-poll-trump-falsehoods/\", \"urlToImage\": \"https://www.washingtonpost.com/r/2010-2019/WashingtonPost/2018/12/14/National-Politics/Graphics/facepoll1216-promo.jpg\", \"publishedAt\": \"2018-12-14T17:30:00Z\", \"content\": \"For months, President Trump has claimed that U.S. Steel has announced plans to build more than six new plants. Throughout the midterm election, he repeatedly said that Democrats had signed onto an open borders bill. And he has long charged that millions of fr… [+13758 chars]\" }, \n//  { \"source\": { \"id\": \"the-washington-post\", \"name\": \"The Washington Post\" }, \"author\": null, \"title\": \"Opinion | All the things Trump didn’t count on\", \"description\": \"Trump really didn't think ahead.\", \"url\": \"https://www.washingtonpost.com/opinions/2018/12/14/all-things-trump-didnt-count/\", \"urlToImage\": \"https://www.washingtonpost.com/resizer/7o93drxGGvVUV7YuBxenLfaws8E=/1484x0/arc-anglerfish-washpost-prod-washpost.s3.amazonaws.com/public/EC76ULR44AI6RFK3PUXBTN4ZMY.jpg\", \"publishedAt\": \"2018-12-14T17:30:00Z\", \"content\": \"President Trumps inability to respond to one charge emanating from one witness, a charge not even within the purview of the special counsel, suggests he will be entirely overwhelmed when the closet full of shoes starts dropping. He never knew about the paymen… [+3945 chars]\" }, { \"source\": { \"id\": \"the-washington-post\", \"name\": \"The Washington Post\" }, \"author\": null, \"title\": \"George Conway calls Trump a liar on Twitter after Kellyanne Conway defends him on TV\", \"description\": \"The lawyer weighed in once more on a man for whom his wife works as a senior aide in the White House.\", \"url\": \"https://www.washingtonpost.com/politics/george-conway-calls-trump-a-liar-after-kellyanne-conway-defends-him-on-tv/2018/12/14/53d2704c-ffa1-11e8-83c0-b06139e540e5_story.html\", \"urlToImage\": \"https://www.washingtonpost.com/resizer/TjeZXj0xy2EhkJWU5Ai84_GWpOY=/1484x0/arc-anglerfish-washpost-prod-washpost.s3.amazonaws.com/public/EKCV3WRSXAI6RNV5ACCKCZTJQ4.jpg\", \"publishedAt\": \"2018-12-14T13:51:00Z\", \"content\": \"The sharply divergent views that White House counselor Kellyanne Conway and her husband hold of President Trump played out in public again on Thursday night, with George Conway calling Trump a liar on Twitter after his wife defended him on television. Kellyan… [+2433 chars]\" }, { \"source\": { \"id\": \"the-washington-post\", \"name\": \"The Washington Post\" }, \"author\": null, \"title\": \"Michael Flynn’s transformation from storied officer to heated partisan\", \"description\": \"Friends and colleagues of the three-star general say his public persona shifted dramatically after he left the military. But they remain at odds over why.\", \"url\": \"https://www.washingtonpost.com/graphics/2018/politics/michael-flynn-partisan-warrior/\", \"urlToImage\": \"https://www.washingtonpost.com/r/2010-2019/WashingtonPost/2018/11/21/National-Politics/Advance/Images/flynn-shareimage.jpg\", \"publishedAt\": \"2018-12-14T13:00:00Z\", \"content\": \"What happened to Michael Flynn? Before he pleaded guilty to lying to the FBI, before he became a folk hero to many of President Trumps most loyal supporters, before he pivoted from accomplished military officer to purveyor of shocking stories about the evils … [+22770 chars]\" }, { \"source\": { \"id\": \"the-washington-post\", \"name\": \"The Washington Post\" }, \"author\": null, \"title\": \"Analysis | Let’s hope Scott Walker’s next job doesn’t require chart-making\", \"description\": \"The outgoing Wisconsin governor tried to downplay his party's push to strip powers from his successor with a terrible graph.\", \"url\": \"https://www.washingtonpost.com/politics/2018/12/14/lets-hope-scott-walkers-next-job-doesnt-require-chart-making/\", \"urlToImage\": \"https://www.washingtonpost.com/resizer/1-TT9aHrLyFCXit8o0oybLordzc=/1484x0/arc-anglerfish-washpost-prod-washpost.s3.amazonaws.com/public/UPYIMNH73II6RIL6CYVXCLUPYI.jpg\", \"publishedAt\": \"2018-12-14T08:27:00Z\", \"content\": \"There was ostensible curiosity about whether Gov. Scott Walker (R-Wis.) would sign into law legislation introduced after his midterm election loss that stripped power from Wisconsins governor and gave it to the heavily Republican legislature in the state. I s… [+2114 chars]\" }, { \"source\": { \"id\": \"the-washington-post\", \"name\": \"The Washington Post\" }, \"author\": null, \"title\": \"Analysis | The media consumers most likely to believe Trump’s falsehoods? Fox News watchers.\", \"description\": \"Those most likely to believe untrue Democratic claims? MSNBC fans.\", \"url\": \"https://www.washingtonpost.com/politics/2018/12/14/media-consumers-most-likely-believe-trumps-falsehoods-fox-news-watchers/\", \"urlToImage\": \"https://www.washingtonpost.com/resizer/zgbC3RBIyGOT4baT1-Gst6YFBcc=/1484x0/arc-anglerfish-washpost-prod-washpost.s3.amazonaws.com/public/MIJSWOX6KUI6RIL6CYVXCLUPYI.jpg\", \"publishedAt\": \"2018-12-14T07:35:00Z\", \"content\": \"The good news in a new Washington Post Fact Checker poll is that most Americans dont believe the various untrue claims that President Trump makes. Nearly two-thirds of respondents, for example, know that Russia tried to interfere with the 2016 presidential el… [+2763 chars]\" }, { \"source\": { \"id\": \"the-washington-post\", \"name\": \"The Washington Post\" }, \"author\": null, \"title\": \"Wisconsin Gov. Walker signs lame-duck legislation to weaken incoming Democratic governor, attorney general\", \"description\": \"The outgoing GOP governor said the impact of the measures has been overstated, accusing the national media of “hysteria.”\", \"url\": \"https://www.washingtonpost.com/politics/wisconsin-gov-walker-signs-lame-duck-legislation-to-weaken-incoming-democratic-governor-attorney-general/2018/12/14/7e181990-ffd0-11e8-83c0-b06139e540e5_story.html\", \"urlToImage\": \"https://www.washingtonpost.com/resizer/w2Iw8bEvCJ9Js6hHMBeD8QWY5aw=/1484x0/arc-anglerfish-washpost-prod-washpost.s3.amazonaws.com/public/CA5XCKX72QI6RA6AWBQTTZKA4U.jpg\", \"publishedAt\": \"2018-12-14T07:20:00Z\", \"content\": \"Wisconsin Gov. Scott Walker (R) on Friday signed sweeping legislation that weakens the power of the incoming Democratic governor and attorney general, dismissing a national outcry over what Democrats have characterized as a blatant power grab. The legislation… [+3824 chars]\" }, { \"source\": { \"id\": \"the-washington-post\", \"name\": \"The Washington Post\" }, \"author\": null, \"title\": \"Cohen says Trump knew hush-money payments were wrong, contradicting his former boss\", \"description\": \"In a television interview, the president’s former lawyer said Trump “directed me to make the payments.”\", \"url\": \"https://www.washingtonpost.com/politics/cohen-says-trump-knew-hush-money-payments-were-wrong-contradicting-his-former-boss/2018/12/14/4ab6ea18-ff8f-11e8-83c0-b06139e540e5_story.html\", \"urlToImage\": \"https://www.washingtonpost.com/resizer/rbiuWoHgZeHD_gttXO3IyraiFdo=/1484x0/arc-anglerfish-washpost-prod-washpost.s3.amazonaws.com/public/EE4J5KH7EAI6RLKAZX6Q4DOWLI.jpg\", \"publishedAt\": \"2018-12-14T06:07:00Z\", \"content\": \"Michael Cohen, President Trumps former lawyer, said in a television interview Friday that Trump knew it was wrong to make hush-money payments to women who alleged they had affairs with him, directly contradicting claims from the president. Cohen, who has admi… [+4474 chars]\" }, { \"source\": { \"id\": \"the-washington-post\", \"name\": \"The Washington Post\" }, \"author\": null, \"title\": \"Opinion | No matter what Trump says, Michael Cohen’s accusations are a big deal\", \"description\": \"Michael Cohen’s sentencing makes clear that, at the very least, a fraud was perpetrated on American voters.\", \"url\": \"https://www.washingtonpost.com/opinions/no-matter-what-trump-says-michael-cohens-accusations-are-a-big-deal/2018/12/13/d40c531c-ff0c-11e8-83c0-b06139e540e5_story.html\", \"urlToImage\": \"https://www.washingtonpost.com/resizer/rbiuWoHgZeHD_gttXO3IyraiFdo=/1484x0/arc-anglerfish-washpost-prod-washpost.s3.amazonaws.com/public/EE4J5KH7EAI6RLKAZX6Q4DOWLI.jpg\", \"publishedAt\": \"2018-12-13T12:32:00Z\", \"content\": \"A FEDERAL JUDGE sentenced Michael Cohen, President Trumps former lawyer, to three years in prison on Wednesday. His misdeeds include criminal violations of campaign finance law, to which Mr. Cohen connected the president. Specifically, Mr. Cohen, in league wi… [+2303 chars]\" }]","import React, {Component} from 'react';\n\nclass SourceSingle extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            [this.props.item.name]: props.selectedSources.includes(this.props.item.id) \n        };\n        this.handleInputChange = this.handleInputChange.bind(this);\n    }\n\n    handleInputChange(event) {\n        const target = event.target;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n        const name = target.name;\n    \n        this.setState({\n          [name]: value\n        });\n\n        let sourceID = name.toLowerCase().split(\" \").join(\"-\");\n        this.props.updateSourcesCallback({sourceID, value});\n    }\n\n    render(){\n        return (\n        <div className=\"source\"> \n            <label htmlFor={this.props.item.name}>\n            <input \n                key = {this.props.item.name}\n                id = {this.props.item.name}\n                className=\"checkbox\"\n                name={this.props.item.name}\n                type=\"checkbox\"\n                checked={this.state[this.props.item.name]}\n                onChange={this.handleInputChange} />                \n                {this.props.item.name}</label>\n        </div>\n        )\n    }\n}\n\nexport default SourceSingle;\n","import React, {Component} from 'react';\nimport SourceSingle from './SourceSingle';\nimport Error from './Error';\n\nclass Sources extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      sources: [],\n      error: false\n    };\n  }\n\n  componentDidMount(){\n\n    var myRequest = new Request('./sourcesdata.json');\n\n    fetch(myRequest)\n    .then(response => response.json())\n    .then ((data) => {\n        this.setState({\n        sources: data.sources,\n      })\n    })\n    .catch((error) => {\n      console.log(error);\n      this.setState({\n          error: true\n      })\n    });\n  }\n\n  renderItems(){\n    if(!this.state.error) {\n      return this.state.sources.map((item)=> (\n        <SourceSingle key={item.url} item={item} selectedSources={this.props.selectedSources}  updateSourcesCallback={this.props.updateSourcesCallback}/>\n      ));\n    } else {\n      return <Error />\n    }\n  }\n\n  render(){\n    return (\n        <div className=\"row flex sources\">\n          <p>Select Sources</p>\n          {this.renderItems()}\n          <p>Powered by NewsAPI.org</p>\n        </div>\n    );\n  }\n}\n\nexport default Sources;\n","import React, { Component } from 'react';\nimport './App.css';\nimport News from './News/News';\nimport Sources from './News/Sources';\n\nclass App extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      news: {\n        type: 'top-headlines',\n        query: 'sources=abc-news,time'  \n      },\n      selectedSources: ['abc-news','time']\n    };\n    this.updateSources = this.updateSources.bind(this);\n  }\n\n  componentDidMount(){\n    let preSelectesSources = localStorage.getItem('selectedSources');\n    if (preSelectesSources){\n      this.setState({selectedSources: JSON.parse(preSelectesSources),\n                     news: { type: 'top-headlines',\n                             query: 'sources='+JSON.parse(preSelectesSources).toString()\n                           }\n      });\n    }\n  }\n\n  updateSources(object){\n    let newState = this.state.selectedSources.slice();\n    object.value ? newState.push(object.sourceID) : newState = newState.filter( e => e !== object.sourceID );\n    this.setState({selectedSources: newState,\n                   news: { type: 'top-headlines',\n                           query: 'sources='+newState.toString()\n                         }\n    });\n    localStorage.setItem('selectedSources', JSON.stringify(newState));\n  }\n\n  render() {\n    return (\n      <div className=\"container-fluid\">\n        <div className=\"navbar-fixed\">\n          <nav>\n            <div className=\"nav-wrapper indigo lighten-4\">\n                <a href=\"/\" className=\"brand-logo center\">News Feeds</a>\n            </div>\n          </nav>\n        </div>\n        <div className=\"row\">\n          <div className=\"col xs12 s9\">\n            <News key={this.state.news.query} news={this.state.news}/>\n          </div>\n          <div className=\"col xs12 s3\">\n            <Sources selectedSources={this.state.selectedSources} updateSourcesCallback={this.updateSources}/>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}